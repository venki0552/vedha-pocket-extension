<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>Memory Palace</title>
		<link rel="stylesheet" href="popup.css" />
	</head>
	<body>
		<div id="app">
			<!-- Login View -->
			<div id="login-view" class="view">
				<div class="header">
					<div class="logo">üß†</div>
					<h1>Memory Palace</h1>
					<p class="subtitle">Your AI-powered second brain</p>
				</div>

				<form id="login-form">
					<div class="form-group">
						<label for="email">Email</label>
						<input
							type="email"
							id="email"
							placeholder="you@example.com"
							required
						/>
					</div>
					<div class="form-group">
						<label for="password">Password</label>
						<input
							type="password"
							id="password"
							placeholder="‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢‚Ä¢"
							required
						/>
					</div>
					<button type="submit" class="btn btn-primary" id="login-btn">
						<span class="btn-text">Sign In</span>
						<span class="btn-loading hidden">
							<svg class="spinner" viewBox="0 0 24 24">
								<circle
									cx="12"
									cy="12"
									r="10"
									stroke="currentColor"
									stroke-width="3"
									fill="none"
									stroke-dasharray="31.4 31.4"
									stroke-linecap="round"
								/>
							</svg>
						</span>
					</button>
					<p id="login-error" class="error hidden"></p>
				</form>

				<div class="footer">
					<a href="https://vedha-pocket-web.vercel.app" target="_blank"
						>Create an account ‚Üí</a
					>
				</div>
			</div>

			<!-- Chat View -->
			<div id="chat-view" class="view hidden">
				<div class="chat-header">
					<div class="user-info">
						<span class="logo-small">üß†</span>
						<span id="user-email" class="user-email"></span>
					</div>
					<button id="logout-btn" class="btn-icon" title="Sign out">
						<svg
							width="18"
							height="18"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
						>
							<path d="M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4" />
							<polyline points="16,17 21,12 16,7" />
							<line x1="21" y1="12" x2="9" y2="12" />
						</svg>
					</button>
				</div>

				<div class="quick-actions">
					<button id="save-page-btn" class="action-btn">
						<svg
							width="16"
							height="16"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
						>
							<path
								d="M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z"
							/>
							<polyline points="17,21 17,13 7,13 7,21" />
							<polyline points="7,3 7,8 15,8" />
						</svg>
						Save This Page
					</button>
				</div>

				<div id="messages" class="messages">
					<div class="message assistant">
						<div class="message-content">
							üëã Hi! I'm your Memory Palace assistant. Ask me anything about
							your memories, or say <strong>"save this page"</strong> to save
							the current webpage.
						</div>
					</div>
				</div>

				<div id="status-bar" class="status-bar hidden">
					<span class="status-icon">‚è≥</span>
					<span id="status-text" class="status-text"></span>
				</div>

				<form id="chat-form" class="chat-input-container">
					<input
						type="text"
						id="chat-input"
						placeholder="Ask about your memories or say 'save this page'..."
						autocomplete="off"
					/>
					<button type="submit" class="send-btn" id="send-btn">
						<svg
							width="20"
							height="20"
							viewBox="0 0 24 24"
							fill="none"
							stroke="currentColor"
							stroke-width="2"
						>
							<line x1="22" y1="2" x2="11" y2="13" />
							<polygon points="22,2 15,22 11,13 2,9" />
						</svg>
					</button>
				</form>
			</div>
		</div>

		<script src="popup.js" type="module"></script>
	</body>
</html>
